{"version":3,"sources":["../../src/contracts.ts"],"sourcesContent":["import { invariant } from '@react-dnd/invariant'\nimport type { DragSource, DropTarget, Identifier } from './interfaces.js'\n\nexport function validateSourceContract(source: DragSource): void {\n\tinvariant(\n\t\ttypeof source.canDrag === 'function',\n\t\t'Expected canDrag to be a function.',\n\t)\n\tinvariant(\n\t\ttypeof source.beginDrag === 'function',\n\t\t'Expected beginDrag to be a function.',\n\t)\n\tinvariant(\n\t\ttypeof source.endDrag === 'function',\n\t\t'Expected endDrag to be a function.',\n\t)\n}\n\nexport function validateTargetContract(target: DropTarget): void {\n\tinvariant(\n\t\ttypeof target.canDrop === 'function',\n\t\t'Expected canDrop to be a function.',\n\t)\n\tinvariant(\n\t\ttypeof target.hover === 'function',\n\t\t'Expected hover to be a function.',\n\t)\n\tinvariant(\n\t\ttypeof target.drop === 'function',\n\t\t'Expected beginDrag to be a function.',\n\t)\n}\n\nexport function validateType(\n\ttype: Identifier | Identifier[],\n\tallowArray?: boolean,\n): void {\n\tif (allowArray && Array.isArray(type)) {\n\t\ttype.forEach((t) => validateType(t, false))\n\t\treturn\n\t}\n\n\tinvariant(\n\t\ttypeof type === 'string' || typeof type === 'symbol',\n\t\tallowArray\n\t\t\t? 'Type can only be a string, a symbol, or an array of either.'\n\t\t\t: 'Type can only be a string or a symbol.',\n\t)\n}\n"],"names":["invariant","validateSourceContract","source","canDrag","beginDrag","endDrag","validateTargetContract","target","canDrop","hover","drop","validateType","type","allowArray","Array","isArray","forEach","t"],"mappings":"AAAA,MAAM,GAAGA,SAAS,QAAQ,CAAsB;AAGhD,MAAM,UAAUC,sBAAsB,CAACC,MAAkB,EAAQ,CAAC;IACjEF,SAAS,CACR,MAAM,CAACE,MAAM,CAACC,OAAO,KAAK,CAAU,WACpC,CAAoC;IAErCH,SAAS,CACR,MAAM,CAACE,MAAM,CAACE,SAAS,KAAK,CAAU,WACtC,CAAsC;IAEvCJ,SAAS,CACR,MAAM,CAACE,MAAM,CAACG,OAAO,KAAK,CAAU,WACpC,CAAoC;AAEtC,CAAC;AAED,MAAM,UAAUC,sBAAsB,CAACC,MAAkB,EAAQ,CAAC;IACjEP,SAAS,CACR,MAAM,CAACO,MAAM,CAACC,OAAO,KAAK,CAAU,WACpC,CAAoC;IAErCR,SAAS,CACR,MAAM,CAACO,MAAM,CAACE,KAAK,KAAK,CAAU,WAClC,CAAkC;IAEnCT,SAAS,CACR,MAAM,CAACO,MAAM,CAACG,IAAI,KAAK,CAAU,WACjC,CAAsC;AAExC,CAAC;AAED,MAAM,UAAUC,YAAY,CAC3BC,IAA+B,EAC/BC,UAAoB,EACb,CAAC;IACR,EAAE,EAAEA,UAAU,IAAIC,KAAK,CAACC,OAAO,CAACH,IAAI,GAAG,CAAC;QACvCA,IAAI,CAACI,OAAO,EAAEC,CAAC,GAAKN,YAAY,CAACM,CAAC,EAAE,KAAK;;QACzC,MAAM;IACP,CAAC;IAEDjB,SAAS,CACR,MAAM,CAACY,IAAI,KAAK,CAAQ,WAAI,MAAM,CAACA,IAAI,KAAK,CAAQ,SACpDC,UAAU,GACP,CAA6D,+DAC7D,CAAwC;AAE7C,CAAC"}