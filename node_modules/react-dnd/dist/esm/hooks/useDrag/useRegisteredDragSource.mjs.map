{"version":3,"sources":["../../../../src/hooks/useDrag/useRegisteredDragSource.ts"],"sourcesContent":["import type { DragSourceMonitor } from '../../types/index.js'\nimport { registerSource, SourceConnector } from '../../internals/index.js'\nimport type { DragSourceHookSpec } from '../types.js'\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect.js'\nimport { useDragSource } from './useDragSource.js'\nimport { useDragDropManager } from '../useDragDropManager.js'\nimport { useDragType } from './useDragType.js'\n\nexport function useRegisteredDragSource<O, R, P>(\n\tspec: DragSourceHookSpec<O, R, P>,\n\tmonitor: DragSourceMonitor<O, R>,\n\tconnector: SourceConnector,\n): void {\n\tconst manager = useDragDropManager()\n\tconst handler = useDragSource(spec, monitor, connector)\n\tconst itemType = useDragType(spec)\n\n\tuseIsomorphicLayoutEffect(\n\t\tfunction registerDragSource() {\n\t\t\tif (itemType != null) {\n\t\t\t\tconst [handlerId, unregister] = registerSource(\n\t\t\t\t\titemType,\n\t\t\t\t\thandler,\n\t\t\t\t\tmanager,\n\t\t\t\t)\n\t\t\t\tmonitor.receiveHandlerId(handlerId)\n\t\t\t\tconnector.receiveHandlerId(handlerId)\n\t\t\t\treturn unregister\n\t\t\t}\n\t\t\treturn\n\t\t},\n\t\t[manager, monitor, connector, handler, itemType],\n\t)\n}\n"],"names":["registerSource","useIsomorphicLayoutEffect","useDragSource","useDragDropManager","useDragType","useRegisteredDragSource","spec","monitor","connector","manager","handler","itemType","registerDragSource","handlerId","unregister","receiveHandlerId"],"mappings":"AACA,MAAM,GAAGA,cAAc,QAAyB,CAA0B;AAE1E,MAAM,GAAGC,yBAAyB,QAAQ,CAAiC;AAC3E,MAAM,GAAGC,aAAa,QAAQ,CAAoB;AAClD,MAAM,GAAGC,kBAAkB,QAAQ,CAA0B;AAC7D,MAAM,GAAGC,WAAW,QAAQ,CAAkB;AAE9C,MAAM,UAAUC,uBAAuB,CACtCC,IAAiC,EACjCC,OAAgC,EAChCC,SAA0B,EACnB,CAAC;IACR,KAAK,CAACC,OAAO,GAAGN,kBAAkB;IAClC,KAAK,CAACO,OAAO,GAAGR,aAAa,CAACI,IAAI,EAAEC,OAAO,EAAEC,SAAS;IACtD,KAAK,CAACG,QAAQ,GAAGP,WAAW,CAACE,IAAI;IAEjCL,yBAAyB,CACxB,QAAQ,CAACW,kBAAkB,GAAG,CAAC;QAC9B,EAAE,EAAED,QAAQ,IAAI,IAAI,EAAE,CAAC;YACtB,KAAK,EAAEE,SAAS,EAAEC,UAAU,IAAId,cAAc,CAC7CW,QAAQ,EACRD,OAAO,EACPD,OAAO;YAERF,OAAO,CAACQ,gBAAgB,CAACF,SAAS;YAClCL,SAAS,CAACO,gBAAgB,CAACF,SAAS;YACpC,MAAM,CAACC,UAAU;QAClB,CAAC;QACD,MAAM;IACP,CAAC,EACD,CAACL;QAAAA,OAAO;QAAEF,OAAO;QAAEC,SAAS;QAAEE,OAAO;QAAEC,QAAQ;IAAA,CAAC;AAElD,CAAC"}