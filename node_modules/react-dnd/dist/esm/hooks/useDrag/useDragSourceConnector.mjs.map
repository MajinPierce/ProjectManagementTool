{"version":3,"sources":["../../../../src/hooks/useDrag/useDragSourceConnector.ts"],"sourcesContent":["import { useMemo } from 'react'\nimport { SourceConnector } from '../../internals/index.js'\nimport type {\n\tDragPreviewOptions,\n\tDragSourceOptions,\n} from '../../types/index.js'\nimport { useDragDropManager } from '../useDragDropManager.js'\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect.js'\n\nexport function useDragSourceConnector(\n\tdragSourceOptions: DragSourceOptions | undefined,\n\tdragPreviewOptions: DragPreviewOptions | undefined,\n): SourceConnector {\n\tconst manager = useDragDropManager()\n\tconst connector = useMemo(\n\t\t() => new SourceConnector(manager.getBackend()),\n\t\t[manager],\n\t)\n\tuseIsomorphicLayoutEffect(() => {\n\t\tconnector.dragSourceOptions = dragSourceOptions || null\n\t\tconnector.reconnect()\n\t\treturn () => connector.disconnectDragSource()\n\t}, [connector, dragSourceOptions])\n\tuseIsomorphicLayoutEffect(() => {\n\t\tconnector.dragPreviewOptions = dragPreviewOptions || null\n\t\tconnector.reconnect()\n\t\treturn () => connector.disconnectDragPreview()\n\t}, [connector, dragPreviewOptions])\n\treturn connector\n}\n"],"names":["useMemo","SourceConnector","useDragDropManager","useIsomorphicLayoutEffect","useDragSourceConnector","dragSourceOptions","dragPreviewOptions","manager","connector","getBackend","reconnect","disconnectDragSource","disconnectDragPreview"],"mappings":"AAAA,MAAM,GAAGA,OAAO,QAAQ,CAAO;AAC/B,MAAM,GAAGC,eAAe,QAAQ,CAA0B;AAK1D,MAAM,GAAGC,kBAAkB,QAAQ,CAA0B;AAC7D,MAAM,GAAGC,yBAAyB,QAAQ,CAAiC;AAE3E,MAAM,UAAUC,sBAAsB,CACrCC,iBAAgD,EAChDC,kBAAkD,EAChC,CAAC;IACnB,KAAK,CAACC,OAAO,GAAGL,kBAAkB;IAClC,KAAK,CAACM,SAAS,GAAGR,OAAO,KAClB,GAAG,CAACC,eAAe,CAACM,OAAO,CAACE,UAAU;MAC5C,CAACF;QAAAA,OAAO;IAAA,CAAC;IAEVJ,yBAAyB,KAAO,CAAC;QAChCK,SAAS,CAACH,iBAAiB,GAAGA,iBAAiB,IAAI,IAAI;QACvDG,SAAS,CAACE,SAAS;QACnB,MAAM,KAAOF,SAAS,CAACG,oBAAoB;;IAC5C,CAAC,EAAE,CAACH;QAAAA,SAAS;QAAEH,iBAAiB;IAAA,CAAC;IACjCF,yBAAyB,KAAO,CAAC;QAChCK,SAAS,CAACF,kBAAkB,GAAGA,kBAAkB,IAAI,IAAI;QACzDE,SAAS,CAACE,SAAS;QACnB,MAAM,KAAOF,SAAS,CAACI,qBAAqB;;IAC7C,CAAC,EAAE,CAACJ;QAAAA,SAAS;QAAEF,kBAAkB;IAAA,CAAC;IAClC,MAAM,CAACE,SAAS;AACjB,CAAC"}