{"version":3,"sources":["../../../../src/hooks/useDrop/useRegisteredDropTarget.ts"],"sourcesContent":["import { registerTarget, TargetConnector } from '../../internals/index.js'\nimport type { DropTargetMonitor } from '../../types/index.js'\nimport type { DropTargetHookSpec } from '../types.js'\nimport { useDragDropManager } from '../useDragDropManager.js'\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect.js'\nimport { useAccept } from './useAccept.js'\nimport { useDropTarget } from './useDropTarget.js'\n\nexport function useRegisteredDropTarget<O, R, P>(\n\tspec: DropTargetHookSpec<O, R, P>,\n\tmonitor: DropTargetMonitor<O, R>,\n\tconnector: TargetConnector,\n): void {\n\tconst manager = useDragDropManager()\n\tconst dropTarget = useDropTarget(spec, monitor)\n\tconst accept = useAccept(spec)\n\n\tuseIsomorphicLayoutEffect(\n\t\tfunction registerDropTarget() {\n\t\t\tconst [handlerId, unregister] = registerTarget(\n\t\t\t\taccept,\n\t\t\t\tdropTarget,\n\t\t\t\tmanager,\n\t\t\t)\n\t\t\tmonitor.receiveHandlerId(handlerId)\n\t\t\tconnector.receiveHandlerId(handlerId)\n\t\t\treturn unregister\n\t\t},\n\t\t[\n\t\t\tmanager,\n\t\t\tmonitor,\n\t\t\tdropTarget,\n\t\t\tconnector,\n\t\t\taccept.map((a) => a.toString()).join('|'),\n\t\t],\n\t)\n}\n"],"names":["registerTarget","useDragDropManager","useIsomorphicLayoutEffect","useAccept","useDropTarget","useRegisteredDropTarget","spec","monitor","connector","manager","dropTarget","accept","registerDropTarget","handlerId","unregister","receiveHandlerId","map","a","toString","join"],"mappings":"AAAA,MAAM,GAAGA,cAAc,QAAyB,CAA0B;AAG1E,MAAM,GAAGC,kBAAkB,QAAQ,CAA0B;AAC7D,MAAM,GAAGC,yBAAyB,QAAQ,CAAiC;AAC3E,MAAM,GAAGC,SAAS,QAAQ,CAAgB;AAC1C,MAAM,GAAGC,aAAa,QAAQ,CAAoB;AAElD,MAAM,UAAUC,uBAAuB,CACtCC,IAAiC,EACjCC,OAAgC,EAChCC,SAA0B,EACnB,CAAC;IACR,KAAK,CAACC,OAAO,GAAGR,kBAAkB;IAClC,KAAK,CAACS,UAAU,GAAGN,aAAa,CAACE,IAAI,EAAEC,OAAO;IAC9C,KAAK,CAACI,MAAM,GAAGR,SAAS,CAACG,IAAI;IAE7BJ,yBAAyB,CACxB,QAAQ,CAACU,kBAAkB,GAAG,CAAC;QAC9B,KAAK,EAAEC,SAAS,EAAEC,UAAU,IAAId,cAAc,CAC7CW,MAAM,EACND,UAAU,EACVD,OAAO;QAERF,OAAO,CAACQ,gBAAgB,CAACF,SAAS;QAClCL,SAAS,CAACO,gBAAgB,CAACF,SAAS;QACpC,MAAM,CAACC,UAAU;IAClB,CAAC,EACD,CAAC;QACAL,OAAO;QACPF,OAAO;QACPG,UAAU;QACVF,SAAS;QACTG,MAAM,CAACK,GAAG,EAAEC,CAAC,GAAKA,CAAC,CAACC,QAAQ;UAAIC,IAAI,CAAC,CAAG;IACzC,CAAC;AAEH,CAAC"}