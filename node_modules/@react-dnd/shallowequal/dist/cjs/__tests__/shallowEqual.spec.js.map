{"version":3,"sources":["../../../src/__tests__/shallowEqual.spec.ts"],"sourcesContent":["import { shallowEqual } from '../index'\n\ndescribe('shallowequal', function () {\n\t// eslint-disable-next-line no-sparse-arrays\n\tconst falsey = [, '', 0, false, NaN, null, undefined]\n\n\t// test cases copied from https://github.com/facebook/fbjs/blob/82247de1c33e6f02a199778203643eaee16ea4dc/src/core/__tests__/shallowEqual-test.js\n\tit('returns false if either argument is null', () => {\n\t\texpect(shallowEqual(null, {})).toEqual(false)\n\t\texpect(shallowEqual({}, null)).toEqual(false)\n\t})\n\n\tit('returns true if both arguments are null or undefined', () => {\n\t\texpect(shallowEqual(null, null)).toEqual(true)\n\t\texpect(shallowEqual(undefined, undefined)).toEqual(true)\n\t})\n\n\tit('returns true if arguments are shallow equal', () => {\n\t\texpect(shallowEqual({ a: 1, b: 2, c: 3 }, { a: 1, b: 2, c: 3 })).toEqual(\n\t\t\ttrue,\n\t\t)\n\t})\n\n\tit('returns false if arguments are not objects and not equal', () => {\n\t\texpect(shallowEqual(1, 2)).toEqual(false)\n\t})\n\n\tit('returns false if only one argument is not an object', () => {\n\t\texpect(shallowEqual<any>(1, {})).toEqual(false)\n\t})\n\n\tit('returns false if first argument has too many keys', () => {\n\t\texpect(shallowEqual({ a: 1, b: 2, c: 3 }, { a: 1, b: 2 })).toEqual(false)\n\t})\n\n\tit('returns false if second argument has too many keys', () => {\n\t\texpect(shallowEqual({ a: 1, b: 2 }, { a: 1, b: 2, c: 3 })).toEqual(false)\n\t})\n\n\tit('returns true if values are not primitives but are ===', () => {\n\t\tconst obj = {}\n\t\texpect(\n\t\t\tshallowEqual({ a: 1, b: 2, c: obj }, { a: 1, b: 2, c: obj }),\n\t\t).toEqual(true)\n\t})\n\n\t// subsequent test cases are copied from lodash tests\n\tit('returns false if arguments are not shallow equal', () => {\n\t\texpect(shallowEqual({ a: 1, b: 2, c: {} }, { a: 1, b: 2, c: {} })).toEqual(\n\t\t\tfalse,\n\t\t)\n\t})\n\n\tit('should provide the correct `customizer` arguments', () => {\n\t\tconst argsList: any[] = []\n\t\tconst arry = [1, 2]\n\t\tconst object1: any = { a: arry, b: null }\n\t\tconst object2: any = { a: arry, b: null }\n\n\t\tobject1.b = object2\n\t\tobject2.b = object1\n\n\t\tconst expected = [\n\t\t\t[object1, object2],\n\t\t\t[object1.a, object2.a, 'a'],\n\t\t\t[object1.b, object2.b, 'b'],\n\t\t]\n\n\t\tshallowEqual(object1, object2, function (...args) {\n\t\t\targsList.push(args)\n\t\t})\n\n\t\texpect(argsList).toEqual(expected)\n\t})\n\n\tit('should set the `this` binding', () => {\n\t\tconst actual = shallowEqual(\n\t\t\t'a',\n\t\t\t'b',\n\t\t\tfunction compare(this: any, a, b) {\n\t\t\t\treturn this[a] === this[b]\n\t\t\t},\n\t\t\t{ a: 1, b: 1 },\n\t\t)\n\n\t\texpect(actual).toEqual(true)\n\t})\n\n\tit('should handle comparisons if `customizer` returns `undefined`', () => {\n\t\tconst noop = () => void 0\n\n\t\texpect(shallowEqual('a', 'a', noop)).toEqual(true)\n\t\texpect(shallowEqual(['a'], ['a'], noop)).toEqual(true)\n\t\texpect(shallowEqual({ '0': 'a' }, { '0': 'a' }, noop)).toEqual(true)\n\t})\n\n\tit('should not handle comparisons if `customizer` returns `true`', () => {\n\t\tconst customizer = (value: any) => typeof value === 'string' || undefined\n\n\t\texpect(shallowEqual('a', 'b', customizer)).toEqual(true)\n\t\texpect(shallowEqual(['a'], ['b'], customizer)).toEqual(true)\n\t\texpect(shallowEqual({ '0': 'a' }, { '0': 'b' }, customizer)).toEqual(true)\n\t})\n\n\tit('should not handle comparisons if `customizer` returns `false`', () => {\n\t\tconst customizer = (value: any) =>\n\t\t\ttypeof value === 'string' ? false : undefined\n\t\texpect(shallowEqual('a', 'a', customizer)).toEqual(false)\n\t\texpect(shallowEqual(['a'], ['a'], customizer)).toEqual(false)\n\t\texpect(shallowEqual({ '0': 'a' }, { '0': 'a' }, customizer)).toEqual(false)\n\t})\n\n\tit('should return a boolean value even if `customizer` does not', () => {\n\t\tconst actual = shallowEqual('a', 'b', () => 'c' as any)\n\t\texpect(actual).toEqual(true)\n\n\t\tconst values = falsey.filter((v) => v !== undefined)\n\t\tconst expected = values.map(() => false)\n\n\t\tconst result: boolean[] = []\n\t\tvalues.forEach((value) => {\n\t\t\tresult.push(shallowEqual('a', 'a', () => value as any))\n\t\t})\n\n\t\texpect(result).toEqual(expected)\n\t})\n\n\tit('should treat objects created by `Object.create(null)` like any other plain object', () => {\n\t\tclass Foo {\n\t\t\tpublic a = 1\n\t\t}\n\n\t\tconst object2 = { a: 1 }\n\t\texpect(shallowEqual(new Foo(), object2)).toEqual(true)\n\n\t\tconst object1 = Object.create(null)\n\t\tobject1.a = 1\n\t\texpect(shallowEqual(object1, object2)).toEqual(true)\n\t})\n})\n"],"names":["describe","falsey","NaN","undefined","it","expect","shallowEqual","toEqual","a","b","c","obj","argsList","arry","object1","object2","expected","args","push","actual","compare","noop","customizer","value","values","filter","v","map","result","forEach","Foo","Object","create"],"mappings":"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"}